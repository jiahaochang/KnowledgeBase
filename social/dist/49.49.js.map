{"version":3,"sources":["webpack:///./pages/Search/Search.tsx","webpack:///./pages/Search/Component/GroupCheckbox.tsx","webpack:///./pages/Search/Component/PersonInfoList.tsx"],"names":[],"mappings":"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","file":"49.49.js","sourcesContent":["import * as React from 'react'\r\nimport { Row, Col,Icon,Button,Checkbox } from 'antd';\r\nimport { bindActionCreators } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport GroupCheckbox = require('./Component/GroupCheckbox');\r\nimport PersonInfoList = require('./Component/PersonInfoList');\r\nimport * as ActionTypes from '../../actions/Search/SearchActionTypes'\r\nimport * as ajaxUtil from '../../common/ajaxUtil'\r\nimport * as ItemsActions from '../../actions/Search/SearchAction'\r\n\"use strict\";\r\n\r\ninterface SearchProps extends React.Props<Search> {\r\n    actions: any,\r\n    searchState:any,\r\n}\r\n\r\ninterface SearchState {\r\n    results?:Array<any>\r\n    currentGrade?:Array<any>,\r\n    gradeOptions?:Array<any>,\r\n    classOptions?:Array<any>\r\n}\r\n\r\n/**\r\n * 搜索用户\r\n */\r\nclass Search extends React.Component<SearchProps, SearchState> {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            results: []\r\n        };\r\n        this.setCurrentGrade = this.setCurrentGrade.bind(this);\r\n    }\r\n\r\n    static defaultProps = {\r\n    };\r\n\r\n    componentWillMount(){\r\n        var this_ = this;\r\n        //ajax获取用于筛选搜索结果的左侧条件\r\n        ajaxUtil.getDataByActionIDAsync(ActionTypes.GET_SEARCH_OPTIONS, function (response) {\r\n            const optionRecords = response.result;\r\n            this_.setState({\r\n                gradeOptions: optionRecords.gradeOptions,\r\n            });\r\n        });\r\n        this_.setState({currentGrade: []});\r\n    }\r\n\r\n    /**\r\n     * 将当前选中的年级设置state\r\n     */\r\n    setCurrentGrade(checkedValues){\r\n        this.setState({currentGrade:checkedValues});\r\n    }\r\n\r\n    componentDidMount(){\r\n    }\r\n\r\n    render() {\r\n        //获取左侧筛选栏的筛选条件“年级”\r\n        var options:any[] = this.state.gradeOptions;\r\n        var gradeCheckTitle = \"所在年级：\";\r\n        //@param searchResult显示的搜索结果\r\n        var searchResult = [];\r\n\r\n        //根据左侧的年级筛选条件来筛选搜索结果\r\n        var responseData = [];\r\n        responseData = this.props.searchState.toJS().searchResult;\r\n        var currentGrade = this.state.currentGrade;\r\n        if(currentGrade.length != 0){\r\n            for (var key in responseData) {\r\n                for(var i=0;i<currentGrade.length;i++){\r\n                    if((responseData[key].grade+\"\").indexOf(currentGrade[i]) != -1){\r\n                        searchResult.push(responseData[key]);\r\n                    }\r\n                }\r\n            }\r\n        }else if(currentGrade.length == 0){\r\n            searchResult = responseData;\r\n        }\r\n\r\n        //如果查找的返回信息为空，则提示“未查找到相关用户”\r\n        if(searchResult.length == 0) {\r\n            var message = \"未查找到相关用户\";\r\n        }else {\r\n            var message = \"\";\r\n        }\r\n\r\n        return (\r\n            <div className=\"main-container\">\r\n                <Row>\r\n                    <Col span={4}>\r\n                        <div className=\"am-margin-top-lg\">\r\n                            <GroupCheckbox\r\n                                setCurrentGrade={this.setCurrentGrade}\r\n                                options={options}\r\n                                title={gradeCheckTitle}\r\n                            />\r\n                        </div>\r\n                    </Col>\r\n                    <Col span={13}>\r\n                        <div className=\"am-margin-top-lg\">\r\n                            {message}\r\n                            {\r\n                                searchResult.map(function(item, index) {\r\n                                    return (\r\n                                    <PersonInfoList key={index} searchResult={item}/>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport =  connect(state => ({\r\n    searchState: state.searchState\r\n}), dispatch => ({\r\n    actions: bindActionCreators(ItemsActions, dispatch),\r\n}))(Search)\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./pages/Search/Search.tsx\n **/","import * as React from 'react'\r\nimport { Row, Col,Icon,Button,Checkbox } from 'antd';\r\n\"use strict\";\r\n\r\nconst CheckboxGroup = Checkbox.Group;\r\n\r\ninterface GroupCheckProps extends React.Props<GroupCheckbox> {\r\n    setCurrentGrade?:Function,\r\n    options?:Array<any>,\r\n    title?:any,\r\n    defaultValue?:Array<any>,\r\n}\r\n\r\ninterface GroupCheckState {\r\n    checkboxGroupAllValue?:Array<any>,\r\n    checked?:boolean\r\n}\r\n\r\nclass GroupCheckbox extends React.Component<GroupCheckProps, GroupCheckState> {\r\n    constructor(props) {\r\n        super(props);\r\n        this.onChange = this.onChange.bind(this);\r\n        this.checkAll = this.checkAll.bind(this);\r\n    }\r\n\r\n    componentWillMount(){\r\n        this.setState({checked:true});\r\n        //this.props.options = [];\r\n    }\r\n\r\n    static defaultProps = {\r\n        options:[],\r\n    };\r\n\r\n    setStateByProps(newProps){\r\n        var options = newProps.options;\r\n        var checkboxGroupAllValue = [];\r\n        for (var key in options) {\r\n            checkboxGroupAllValue.push(options[key]['value']);\r\n        }\r\n        this.setState({checkboxGroupAllValue:checkboxGroupAllValue});\r\n    }\r\n\r\n    componentWillReceiveProps(newProps){\r\n        if (JSON.stringify(this.props) !== JSON.stringify(newProps)){\r\n            this.setStateByProps(newProps);\r\n        }\r\n    }\r\n\r\n    onChange(checkedValues) {\r\n        var this_=this;\r\n        console.log('checked = ', checkedValues);\r\n\r\n        this_.props.setCurrentGrade(checkedValues);\r\n        //设置CheckboxGroup的value为手动点击选上的内容\r\n        this_.setState({checkboxGroupAllValue: checkedValues});\r\n\r\n        //设置“全部”选项为非选中状态\r\n        if(checkedValues.length < this.props.options.length) {\r\n            this_.setState({checked: false});\r\n        }else {\r\n            this_.setState({checked: true});\r\n        }\r\n    }\r\n\r\n    checkAll(){\r\n        //每次点击“全部”，设置“全部”选项为与上次点击不同的状态\r\n        this.setState({checked:!this.state.checked});\r\n        //@param options 为checkbox中的选项内容组成的数组\r\n        var options = this.props.options;\r\n        var checkboxGroupAllValue = [];\r\n        //获取所有选项的value，当点击“全选”时，下面所有的checkbox设置为选中状态\r\n        for (var key in options) {\r\n            checkboxGroupAllValue.push(options[key]['value']);\r\n        }\r\n        //当点击“全部”时，如果下面的条件没有全部都选上，给全都选上，并且设置筛选条件\r\n        if(this.state.checkboxGroupAllValue.length != options.length) {\r\n            this.setState({checkboxGroupAllValue: checkboxGroupAllValue});\r\n            this.props.setCurrentGrade(checkboxGroupAllValue);\r\n        }else{\r\n            this.setState({checkboxGroupAllValue: []});\r\n            this.props.setCurrentGrade([]);\r\n        }\r\n    }\r\n\r\n    render(){\r\n        var options = this.props.options;\r\n        var title = this.props.title;\r\n        return(\r\n            <div className=\"block-box-shadows\">\r\n                {title}\r\n                <br />\r\n                <Checkbox onChange={this.checkAll} checked={this.state.checked}>全部</Checkbox>\r\n                <br />\r\n                <CheckboxGroup value={this.state.checkboxGroupAllValue} options={options} onChange={this.onChange} />\r\n                {/*\r\n                    this.props.options.map(function(item, index) {\r\n                        return (\r\n                            <div key={index}>\r\n                                <Checkbox checked={true}>\r\n                                    {item.label}\r\n                                </Checkbox>\r\n                                <br />\r\n                            </div>\r\n                        )\r\n                    })\r\n                */}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport = GroupCheckbox\n\n\n/** WEBPACK FOOTER **\n ** ./pages/Search/Component/GroupCheckbox.tsx\n **/","import * as React from 'react'\r\nimport { Row,Col,Icon, Popover,Menu, Dropdown,Button,message } from 'antd';\r\nimport {withRouter} from 'react-router'\r\nimport CardContentWithClickLikeAndComment = require('../../../common/Component/CardContentWithClickLikeAndComment')\r\nimport {getDataByActionIDWithQuery} from \"../../../common/ajaxUtil\"\r\nimport * as ActionTypes from'../../../actions/CommonAction/CommonActionTypes'\r\n\r\n\"use strict\";\r\n\r\nconst DropdownButton = Dropdown.Button;\r\n\r\ninterface PersonInfoListProps extends React.Props<PersonInfoList> {\r\n    searchResult?:any\r\n}\r\n\r\nclass PersonInfoList extends React.Component<PersonInfoListProps, {}> {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    handleButtonClick(userID,e) {\r\n        console.log('click left button', e);\r\n        console.log('userID=', userID);\r\n        var postData = {followingUserID: userID,};\r\n        getDataByActionIDWithQuery(ActionTypes.SET_COMMON_BECOMEFOLLOWER,postData,function () {\r\n            message.success('加关注成功');\r\n        });\r\n    }\r\n\r\n\r\n    handleMenuClick(userID,e) {\r\n        console.log('click', e);\r\n        console.log('userID=', userID);\r\n        var postData = {cancelFollowingUserID: userID,};\r\n        getDataByActionIDWithQuery(ActionTypes.SET_COMMON_CANCELFOLLOWED,postData,function () {\r\n            message.success('取消关注成功');\r\n        });\r\n    }\r\n\r\n    render() {\r\n        var searchResult = this.props.searchResult;\r\n\r\n        //已经互相关注\r\n        const cancelFollowed = (\r\n                <Menu onClick={this.handleMenuClick.bind(this,searchResult.userID)}>\r\n                    <Menu.Item key=\"1\">\r\n                        取消关注\r\n                    </Menu.Item>\r\n                </Menu>\r\n            );\r\n\r\n        if(searchResult.relationState == \"1\"){\r\n            var buttonContent = \"已关注\";\r\n        }else if(searchResult.relationState == \"0\"){\r\n            var buttonContent = \"加关注+\";\r\n        }else if(searchResult.relationState == \"2\"){\r\n            var buttonContent = \"互相关注\";\r\n        }\r\n\r\n        return (\r\n            <ul className=\"homepage-activitiesUL\">\r\n                <li>\r\n                    <div className=\"content\">\r\n                        <a className=\"headPic\">\r\n                            <img src={searchResult.headImage}/>\r\n                        </a>\r\n                        <div className=\"header\">\r\n                            <Row>\r\n                                <span className=\"am-padding-right-sm\">{searchResult.name}</span>\r\n                            </Row>\r\n                            <Row>\r\n                                <Col span={2}>\r\n                                    <span className=\"am-padding-right-lg\">{searchResult.gender}</span>\r\n                                </Col>\r\n                                <Col offset=\"18\">\r\n                                    {\r\n                                        searchResult.relationState !== \"0\"&&\r\n                                        <DropdownButton type=\"ghost\" overlay={cancelFollowed}>\r\n                                            {buttonContent}\r\n                                        </DropdownButton>\r\n                                    }\r\n                                    {\r\n                                        searchResult.relationState == \"0\"&&\r\n                                        <Button type=\"ghost\" onClick={this.handleButtonClick.bind(this,searchResult.userID)}>{buttonContent}</Button>\r\n                                    }\r\n                                </Col>\r\n                            </Row>\r\n                            <Row>\r\n                                <span >{searchResult.gradeName}</span>\r\n                                <span >{searchResult.className}</span>\r\n                            </Row>\r\n                        </div>\r\n                        <div className=\"content-desc\">\r\n                            {searchResult.stateMsg}\r\n                        </div>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n        )\r\n    }\r\n}\r\n\r\nexport = withRouter(PersonInfoList)\n\n\n/** WEBPACK FOOTER **\n ** ./pages/Search/Component/PersonInfoList.tsx\n **/"],"sourceRoot":""}