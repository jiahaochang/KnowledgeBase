{"version":3,"sources":["webpack:///./pages/AssessCenter/ValueAssess/ValueAssessContext.ts?7ad4","webpack:///./actions/AssessCenter/ValueAssess/ValueAssessAction.ts?7867","webpack:///./pages/AssessCenter/ValueAssess/ValueQuizPage.tsx","webpack:///./pages/AssessCenter/ValueAssess/Component/ValueAssessQuestionAndAnswerOption.tsx"],"names":[],"mappings":"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","file":"57.57.js","sourcesContent":["\"use strict\";\r\n\r\nvar valueAspect;\r\n  \r\nexport function setValueAspect(aspect){\r\n    valueAspect = aspect;\r\n}\r\nexport function getValueAspect(){\r\n    return valueAspect;\r\n}\r\n\r\nvar isValueAssessFinished:boolean;\r\n\r\nexport function setValueAssessFinishState(state): void{\r\n    isValueAssessFinished = state;\r\n}\r\nexport function getValueAssessFinishState():any{\r\n    return isValueAssessFinished;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./pages/AssessCenter/ValueAssess/ValueAssessContext.ts\n **/","\r\nimport * as actionTypes from './ValueAssessActionTypes'\r\nimport {getDataByActionID} from \"../../../common/ajaxUtil\";\r\nimport * as context from '../../../pages/AssessCenter/ValueAssess/ValueAssessContext'\r\n\r\nexport function initValueAssessFinishState():any{\r\n    var successFunc = function (response) {\r\n        context.setValueAssessFinishState(response.result.isMIAssessFinished);\r\n    };\r\n    getDataByActionID(actionTypes.GET_VALUEASSESS_VALUEASSESSFINISHSTATE, successFunc);\r\n}\r\n\r\nexport function initValueAssessQuizzes():any{\r\n    var successFunc = function (response) {\r\n        context.setValueAspect(response.result.valueAspects);\r\n    };\r\n    getDataByActionID(actionTypes.GET_VALUEASSESS_QUIZZES, successFunc);\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./actions/AssessCenter/ValueAssess/ValueAssessAction.ts\n **/","import * as React from 'react'\r\nimport FlipWithSlider = require('../MIAssess/Component/FlipWithSlider')\r\nimport ValueAssessQuestionAndAnswerOption = require('./Component/ValueAssessQuestionAndAnswerOption')\r\nimport * as context from './ValueAssessContext'\r\nimport * as Actions from '../../../actions/AssessCenter/ValueAssess/ValueAssessAction'\r\n\r\n\"use strict\";\r\nimport {Slider} from 'antd'\r\n\r\n\r\ninterface ValueQuizProps extends React.Props<ValueQuizPage> {\r\n}\r\n\r\ninterface ValueQuizState {\r\n    currentPageNum: number\r\n}\r\n\r\nclass ValueQuizPage extends React.Component<ValueQuizProps, ValueQuizState> {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            currentPageNum: 1\r\n        };\r\n\r\n        this.onChangePageNum = this.onChangePageNum.bind(this);\r\n        this.onSubmitResult = this.onSubmitResult.bind(this);\r\n        this.onFinishedAnswer = this.onFinishedAnswer.bind(this);\r\n    }\r\n\r\n    onChangePageNum(pageNumAfterChanged){\r\n        this.setState({\r\n            currentPageNum: pageNumAfterChanged\r\n        })\r\n    }\r\n\r\n    onSubmitResult(){\r\n        /*var undonePageList: Array<any> = MIAssessQuizAPI.getUndonePageList();\r\n        if (!undonePageList || undonePageList.length === 0){\r\n            console.log(MIAssessQuizAPI.getMIResultData());\r\n        }else{\r\n            console.log(undonePageList);\r\n            this.setState({\r\n                currentPageNum: undonePageList[0]\r\n            })\r\n        }*/\r\n\r\n    }\r\n\r\n    onFinishedAnswer(){\r\n        var totalPageCount = 5;\r\n        if (this.state.currentPageNum === totalPageCount){\r\n            this.setState({\r\n                currentPageNum: totalPageCount\r\n            })\r\n        }else{\r\n            this.setState({\r\n                currentPageNum: this.state.currentPageNum + 1\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    componentWillMount(){\r\n        //ajax\r\n        Actions.initValueAssessQuizzes();\r\n    }\r\n\r\n    render() {\r\n        var currentPageNum = this.state.currentPageNum;\r\n        var totalPageCount = 5;\r\n        return (\r\n            <div>\r\n                <ValueAssessQuestionAndAnswerOption currentPageNum={currentPageNum} onFinishedAnswer={this.onFinishedAnswer}/>\r\n                <Slider min={1} max={totalPageCount} value={currentPageNum} disabled={true}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport = ValueQuizPage\n\n\n/** WEBPACK FOOTER **\n ** ./pages/AssessCenter/ValueAssess/ValueQuizPage.tsx\n **/","import * as React from 'react'\r\n\r\n\"use strict\";\r\nimport * as context from '../ValueAssessContext'\r\nimport Immutable = require('immutable')\r\nimport {getRandomElementFromArray} from \"../../../../common/commonFunc\";\r\nimport {Button, Row, Col, Icon, Pagination} from 'antd'\r\n\r\ninterface ValueAssessQuestionAndAnswerOptionProps extends React.Props<ValueAssessQuestionAndAnswerOption> {\r\n    currentPageNum: number,\r\n    onFinishedAnswer:Function\r\n}\r\n\r\ninterface ValueAssessQuestionAndAnswerOptionState {\r\n    remainAspect?: Array<any>,\r\n    chosenCount?: number,\r\n    aspectsInThisTurn?: Array<any>\r\n}\r\n\r\nclass ValueAssessQuestionAndAnswerOption extends React.Component<ValueAssessQuestionAndAnswerOptionProps, ValueAssessQuestionAndAnswerOptionState> {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleClick = this.handleClick.bind(this);\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.setStateByProps(this.props);\r\n    }\r\n\r\n    /*componentWillReceiveProps(newProps) {\r\n        if (JSON.stringify(this.props) !== JSON.stringify(newProps)) {\r\n            this.setStateByProps(newProps);\r\n        }\r\n    }*/\r\n\r\n    setStateByProps(props) {\r\n        var valueAspect = context.getValueAspect();\r\n        var remainAspect = Immutable.fromJS(valueAspect).toJS();\r\n        this.setState({\r\n            remainAspect: remainAspect,\r\n            aspectsInThisTurn: getRandomElementFromArray(remainAspect, 5),\r\n            chosenCount: 0\r\n        })\r\n    }\r\n\r\n    clickedCard(item){\r\n        var aspectsInThisTurn = this.state.aspectsInThisTurn;\r\n        var chosenCount = this.state.chosenCount;\r\n\r\n        for (var i=0; i<aspectsInThisTurn.length; i++){\r\n            if (item.aspectName === aspectsInThisTurn[i].aspectName){\r\n                if(aspectsInThisTurn[i].chosen){\r\n                    chosenCount = chosenCount - 1;\r\n                }else{\r\n                    if(chosenCount === 3){\r\n                        alert(\"至多选3个\");\r\n                        return;\r\n                    }\r\n                    chosenCount = chosenCount + 1;\r\n                }\r\n                aspectsInThisTurn[i].chosen = !aspectsInThisTurn[i].chosen;\r\n                break;\r\n            }\r\n        }\r\n        this.setState({\r\n            aspectsInThisTurn,\r\n            chosenCount\r\n        })\r\n    }\r\n\r\n    handleClick(){\r\n\r\n        var remainAspect = this.state.remainAspect;\r\n        console.log(remainAspect.length);\r\n\r\n        var chosenAspects = [];\r\n\r\n        var aspectsInThisTurn = this.state.aspectsInThisTurn;\r\n        for (var i=0; i<aspectsInThisTurn.length; i++){\r\n            if (aspectsInThisTurn[i].chosen ){\r\n                if (this.props.currentPageNum !== 5){\r\n                    aspectsInThisTurn[i].chosen = false;\r\n                }\r\n                chosenAspects.push(aspectsInThisTurn[i]);\r\n\r\n                remainAspect.push(aspectsInThisTurn[i])\r\n            }\r\n        }\r\n        console.log(remainAspect.length);\r\n        if(this.props.currentPageNum === 5){\r\n            console.log(chosenAspects)\r\n        }else{\r\n            this.setState({\r\n                remainAspect: remainAspect,\r\n                aspectsInThisTurn: getRandomElementFromArray(remainAspect, 5),\r\n                chosenCount: 0\r\n            });\r\n            this.props.onFinishedAnswer();\r\n        }\r\n\r\n\r\n    }\r\n\r\n    render() {\r\n        var aspectsInThisTurn = this.state.aspectsInThisTurn;\r\n        var this_ = this;\r\n        return (\r\n\r\n            <div >\r\n                <div className=\"am-center \">\r\n                    <Icon type=\"exclamation-circle\"/>\r\n                    以下5个价值观，请按照你的看重程度选择3个\r\n                </div>\r\n                <Row className=\"am-padding-top-xl am-padding-bottom-lg\">\r\n                    {\r\n                        aspectsInThisTurn.map(function (item, index) {\r\n                            return (\r\n                                <Col span={4} className=\"width20percent \" key={index} onClick={this_.clickedCard.bind(this_, item)}>\r\n                                    <div className=\"value-test-card\">\r\n                                        <div>\r\n                                            <img src=\"vendor/images/default-headpic.jpg\" width=\"100%\" height=\"60%\"/>\r\n                                        </div>\r\n                                        <div className=\"am-text-sm\">\r\n                                            {item.desc}\r\n                                        </div>\r\n                                        <div>\r\n                                            <span className=\"am-margin-sm am-text-center\">{item.aspectName}</span>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                </Col>\r\n                            )\r\n                        })\r\n                    }\r\n                </Row>\r\n                <Button disabled={this.state.chosenCount !== 3} onClick={this.handleClick}>确定</Button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport = ValueAssessQuestionAndAnswerOption\n\n\n/** WEBPACK FOOTER **\n ** ./pages/AssessCenter/ValueAssess/Component/ValueAssessQuestionAndAnswerOption.tsx\n **/"],"sourceRoot":""}